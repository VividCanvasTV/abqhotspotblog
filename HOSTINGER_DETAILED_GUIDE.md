# 🚀 ABQ Hotspot Blog - Complete Hostinger Deployment Guide

## 📋 Overview

This guide will walk you through deploying your Next.js blog to **Hostinger Premium hosting** for approximately **$3/month**. Hostinger will host your entire application including:

- ✅ Your Next.js website (frontend)
- ✅ Your API routes (backend) 
- ✅ Your MySQL database
- ✅ Your domain name

## 📱 **Phase 1: Sign Up & Purchase Hosting**

### Step 1: Purchase Hostinger Plan
1. **Go to**: https://hostinger.com
2. **Click**: "Web Hosting" in the top menu
3. **Choose**: "Premium Web Hosting" plan ($2.99/month)
   - ⚠️ **Important**: Don't choose "Single" - it doesn't support Node.js
   - ✅ **Premium includes**: Node.js support, MySQL databases, SSL certificate
4. **Select duration**: 12 months (best value)
5. **Add domain**: 
   - Choose "Register a new domain" if you need one
   - Or "I'll use my existing domain" if you have one
6. **Complete checkout** with your payment information

### Step 2: Access Your Account
1. **Check your email** for "Welcome to Hostinger" message
2. **Click** the "Access hPanel" button in the email
3. **Create your password** when prompted
4. **Log into hPanel** (this is your control panel)

## 📱 **Phase 2: Set Up External Services**

### Step 3: Create Cloudinary Account (Free Image Storage)
1. **Go to**: https://cloudinary.com
2. **Click**: "Sign Up Free"
3. **Fill out the form**:
   - Email: your email
   - Password: strong password
   - Cloud name: `abqhotspot-blog` (or similar)
4. **Verify your email** when prompted
5. **Log into Cloudinary Dashboard**
6. **Copy these credentials** (you'll need them later):
   - Cloud Name: (shown in top-left corner)
   - API Key: (click "Programmable Media" → "Dashboard")
   - API Secret: (click the eye icon to reveal it)

**💡 Save these in a text file - you'll need them later!**

## 📱 **Phase 3: Prepare Your Website Files**

### Step 4: Create Environment File
1. **Open your project folder** in VS Code (or your text editor)
2. **Create a new file** called `.env.production`
3. **Copy and paste this template**:

```env
# Database - You'll get these from Hostinger in Step 6
DATABASE_URL="mysql://USERNAME:PASSWORD@localhost:3306/DATABASE_NAME"

# Your website URL - Update with your actual domain
NEXTAUTH_URL="https://yourdomain.com"

# Create a random secret - Use any long random string
NEXTAUTH_SECRET="your-super-long-random-secret-key-123456789"

# Cloudinary - Use the values you copied from Step 3
CLOUDINARY_CLOUD_NAME="your-cloud-name-from-cloudinary"
CLOUDINARY_API_KEY="your-api-key-from-cloudinary"
CLOUDINARY_API_SECRET="your-api-secret-from-cloudinary"

# Production environment
NODE_ENV="production"
```

4. **Update the values**:
   - Replace `yourdomain.com` with your actual domain
   - Replace Cloudinary values with what you copied in Step 3
   - Create a long random string for `NEXTAUTH_SECRET`
   - Leave the DATABASE_URL as-is for now (we'll update it in Step 6)

### Step 5: Build Your Website
1. **Open terminal/command prompt** in your project folder
2. **Run these commands one by one**:

```bash
# Install all dependencies
npm install

# Build the production version
npm run build

# Generate Prisma client
npx prisma generate
```

3. **Wait for completion** - this might take 2-3 minutes
4. **Check for errors** - if you see any red error messages, let me know

### Step 6: Prepare Upload Folder
1. **Create a new folder** on your desktop called `hostinger-upload`
2. **Copy these files/folders** from your project to `hostinger-upload`:
   ```
   📁 hostinger-upload/
   ├── 📁 .next/              ← Generated by build command
   ├── 📁 node_modules/       ← All your dependencies  
   ├── 📁 prisma/             ← Database schema
   ├── 📁 public/             ← Images and static files
   ├── 📁 src/                ← Your source code
   ├── 📄 .env.production     ← Environment variables
   ├── 📄 next.config.ts      ← Next.js configuration
   ├── 📄 package.json        ← Project dependencies
   ├── 📄 server.js           ← Production server
   ├── 📄 tsconfig.json       ← TypeScript config
   └── 📄 vercel.json         ← Deployment config
   ```

3. **Zip the folder**:
   - Right-click on `hostinger-upload` folder
   - Choose "Send to" → "Compressed folder" (Windows)
   - Or "Compress" (Mac)
   - Name it `website.zip`

## 📱 **Phase 4: Set Up Database in Hostinger**

### Step 7: Create MySQL Database
1. **Log into hPanel** (your Hostinger control panel)
2. **Look for "Databases"** section and click **"MySQL Databases"**
3. **Click "Create New Database"**
4. **Fill out the form**:
   - Database Name: `abqhotspot_blog`
   - Username: `abquser` (or your choice)
   - Password: **Create a strong password** (save it!)
   - Database User Privileges: **Check "All Privileges"**
5. **Click "Create"**
6. **Important**: Copy these details to your text file:
   - Database Name: `abqhotspot_blog`
   - Username: `abquser`
   - Password: (what you just created)
   - Host: `localhost`

### Step 8: Update Your Environment File
1. **Go back to your `.env.production` file**
2. **Update the DATABASE_URL line**:
```env
DATABASE_URL="mysql://abquser:YOUR_PASSWORD@localhost:3306/abqhotspot_blog"
```
3. **Replace**:
   - `abquser` with your database username
   - `YOUR_PASSWORD` with your database password
   - `abqhotspot_blog` with your database name
4. **Save the file**
5. **Re-zip your upload folder** with the updated file

## 📱 **Phase 5: Upload Your Website**

### Step 9: Upload Files to Hostinger
1. **In hPanel**, go to **"Files" → "File Manager"**
2. **Navigate to** `public_html` folder (double-click to open it)
3. **Delete default files**:
   - Select all files in `public_html` (Ctrl+A)
   - Click "Delete" button
   - Confirm deletion
4. **Upload your website**:
   - Click "Upload" button (top toolbar)
   - Select your `website.zip` file
   - Wait for upload to complete (may take 5-10 minutes)
5. **Extract the files**:
   - Right-click on `website.zip`
   - Choose "Extract"
   - Select "Extract Here"
   - Wait for extraction to complete
6. **Move files to root**:
   - Open the extracted folder
   - Select all contents (Ctrl+A)
   - Cut them (Ctrl+X)
   - Go back to `public_html`
   - Paste them (Ctrl+V)

### Step 10: Set File Permissions
1. **Still in File Manager**, select all files and folders
2. **Right-click** → **"Permissions"**
3. **Set permissions**:
   - Folders: `755` (read, write, execute for owner; read, execute for group and others)
   - Files: `644` (read, write for owner; read for group and others)
4. **For server.js specifically**:
   - Right-click on `server.js`
   - Choose "Permissions"
   - Set to `755`

## 📱 **Phase 6: Configure Node.js**

### Step 11: Enable Node.js Application
1. **In hPanel**, go to **"Advanced" → "Node.js"**
2. **Click "Create Application"**
3. **Fill out the form**:
   - **Node.js version**: Select latest (18.x or 20.x)
   - **Application root**: `/public_html`
   - **Application URL**: Your domain name (example.com)
   - **Application startup file**: `server.js`
   - **Environment**: `production`
4. **Click "Create"**

### Step 12: Install Dependencies
1. **In the Node.js section**, click **"Open Terminal"** (small terminal icon)
2. **Run these commands** (one at a time, wait for each to complete):

```bash
# Install all dependencies (this takes 3-5 minutes)
npm install

# Generate Prisma client for your database
npx prisma generate

# Check if everything is working
npm list
```

3. **Wait for completion** - you should see "success" messages

## 📱 **Phase 7: Set Up Database Schema**

### Step 13: Create Database Tables
1. **Still in the terminal**, run:
```bash
# Create all database tables
npx prisma db push
```

2. **If you see errors**, try:
```bash
# Alternative method
npx prisma migrate deploy
```

3. **Create your first admin user**:
```bash
# Run the admin creation script
node scripts/create-admin.js
```

4. **Save the login credentials** shown in the output!

## 📱 **Phase 8: Configure Domain & SSL**

### Step 14: Point Your Domain
1. **In hPanel**, go to **"Domains"**
2. **Find your domain** in the list
3. **Make sure it points to your hosting account**
   - If you bought the domain from Hostinger, this is automatic
   - If you have an external domain, you'll need to update nameservers

### Step 15: Enable SSL Certificate
1. **In hPanel**, go to **"Security" → "SSL"**
2. **Find your domain** and click **"Manage"**
3. **Enable SSL certificate**:
   - Choose "Free Let's Encrypt SSL"
   - Click "Enable"
   - Wait 5-10 minutes for activation

## 📱 **Phase 9: Set Up Automated RSS Import**

### Step 16: Create Cron Job for RSS
1. **In hPanel**, go to **"Advanced" → "Cron Jobs"**
2. **Click "Create New Cron Job"**
3. **Fill out**:
   - **Command**: 
   ```bash
   cd /home/YOUR_USERNAME/public_html && /usr/bin/node -e "fetch('https://yourdomain.com/api/rss/import', {method: 'POST'})"
   ```
   - **Schedule**: Select "Custom" and enter `0 */6 * * *` (every 6 hours)
   - **Description**: `RSS Import`
4. **Replace**:
   - `YOUR_USERNAME` with your Hostinger username
   - `yourdomain.com` with your actual domain
5. **Click "Create"**

## 📱 **Phase 10: Testing Your Website**

### Step 17: Test Everything
1. **Visit your website**: `https://yourdomain.com`
2. **Test these features**:
   - ✅ Homepage loads
   - ✅ Blog posts display
   - ✅ Events page works
   - ✅ Food/restaurants page works
   - ✅ Admin login works (`https://yourdomain.com/admin/login`)
   - ✅ File upload works (create a new post with image)
   - ✅ RSS import works (check admin RSS page)

### Step 18: Admin Setup
1. **Log into admin**: `https://yourdomain.com/admin/login`
2. **Use the credentials** from Step 13
3. **Change your password**:
   - Go to Admin → Settings
   - Update your profile
4. **Create content**:
   - Add some blog posts
   - Set up categories
   - Configure RSS feeds

## 🛠️ **Troubleshooting Common Issues**

### Issue 1: "Cannot find module" errors
**Symptoms**: 500 error, site won't load
**Solution**:
1. SSH/Terminal into your hosting
2. Run: `npm install`
3. Run: `npx prisma generate`

### Issue 2: Database connection errors
**Symptoms**: Database-related errors in logs
**Solution**:
1. Double-check your `.env.production` file
2. Verify database credentials in hPanel
3. Make sure database user has all privileges

### Issue 3: "Module not found" or build errors
**Symptoms**: Site shows error pages
**Solution**:
1. Check you uploaded all files correctly
2. Verify file permissions are set correctly
3. Check Node.js version is 18.x or higher

### Issue 4: Images not uploading
**Symptoms**: Image upload fails
**Solution**:
1. Verify Cloudinary credentials in `.env.production`
2. Check internet connectivity from server
3. Test Cloudinary credentials in their dashboard

### Issue 5: Site not loading at all
**Symptoms**: Browser shows "site can't be reached"
**Solution**:
1. Check domain DNS settings (may take up to 24 hours)
2. Verify SSL certificate is active
3. Check if Node.js application is running in hPanel

## 📞 **Getting Help**

### Hostinger Support
- **Live chat**: Available 24/7 in hPanel
- **Email**: Through hPanel support tickets
- **Knowledge base**: help.hostinger.com

### Emergency Checklist
If something goes wrong, check:
1. ✅ All files uploaded correctly
2. ✅ Environment variables are correct
3. ✅ Database exists and has correct credentials
4. ✅ Node.js application is running
5. ✅ File permissions are set correctly
6. ✅ Domain DNS is pointing to Hostinger

## 💰 **Final Costs**

- **Hostinger Premium**: $2.99/month
- **Domain** (if purchased separately): ~$0.75/month
- **Cloudinary**: Free tier (25GB storage)
- **Total**: ~$3.75/month

## 🎉 **Congratulations!**

Your ABQ Hotspot Blog is now live on the internet! You can:
- ✅ Write and publish blog posts
- ✅ Upload images directly
- ✅ Manage events and restaurants  
- ✅ Import news automatically via RSS
- ✅ Handle user management

---

**Need more help?** Contact me with specific error messages or screenshots! 